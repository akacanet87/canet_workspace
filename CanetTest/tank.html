<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>tank</title>


<style>

#map{

	position : relative;

}

#mask{

	width : 1240px;
	height : 900px;
	overflow : hidden;
	border : 1px solid red;


}


</style>


<script src="./Windows.js"></script>
<script src="./SelectBox.js"></script>
<script src="./TankFn.js"></script>
<script src="./BulletFn.js"></script>
<script src="./GameFn.js"></script>
<script src="./MapFn.js"></script>
<script src="./Tanks.js"></script>
<script src="./Maps.js"></script>
<script src="./Items.js"></script>
<script src="./SignIn.js"></script>
<script>

var stage;
var map;

var s_wid=1240;
var s_hei=900;


//	창 관련 div 선언
var s_win;
var n_win;
var sel_mode;
var sel_con;


// map들 선언
var overTheCloudMap= new overTheCloudMap();
var onThePlanetMap= new onThePlanetMap();
var theRuinedCityMap= new theRuinedCityMap();
var theNightMap= new theNightMap();
var theCastleMap= new theCastleMap();

// map 속성 선언
var bgmSrc;
var bgSrc;
var blockImg;
var windImg;


//	맵의 블럭 함수 선언
var stBlock;




// tank들 선언
var laserTank= new laserTank();
var octopusTank= new octopusTank();
var starTank= new starTank();
var multiTank= new multiTank();
var cannonTank= new cannonTank();


//	item들 선언
var itemFixHp;
var itemDoubleShot;
var itemSuperBullet;
var itemMoveTank;



// 각 거푸집 선언
var tankFn;
var mapFn;
var itemFn;
var tankMove;
var bullet;







var side=true;

var blockArr = new Array();


var x=10;
var y=10;
var tankWidth=70;
var tankHeight=70;
var velX=0;
var velY=0;
var gravity=0.1;
var shotPw=0;

var speed=0;

var key;


window.addEventListener("load", function(){

	init();

	

});

function init(){

	stage = document.getElementById("stage");
	map = document.getElementById("map");

	map.style.width=3000+"px";
	map.style.height=2000+"px";
/*

	s_win = new StartWin(map, s_wid, s_hei);

	s_win.init();



	n_win = new noticeWin( map, s_wid, s_hei );

	n_win.init();

*/	

/*	

	sel_mode = new selectMode( map, s_wid, s_hei);

	sel_mode.init();


*/	
/*

	sel_con = new selectContents( map, s_wid, s_hei );

	sel_con.init();


*/


	tankFn = new tankFn(map, x, y, tankWidth, tankHeight, velX, velY, gravity, laserTank.distance, laserTank.fireAngle, laserTank.defense, laserTank.hp);

	tankFn.init();

	mapFn = new mapFn( map, blockArr, overTheCloudMap.bgSrc, overTheCloudMap.bgmSrc, overTheCloudMap.blockImg );

	mapFn.init();



}


window.addEventListener("keydown", function(){

	key=event.keyCode;

	switch(key){
		
		case 32:

			tankMove(0);

			bullet = new bulletFn(map, tankFn.x, tankFn.y, gravity, 5, 5, side, laserTank.bulletImg1, laserTank.bulletImg2, laserTank.damage1, laserTank.damage2);

			bullet.init();
			
			break;//스페이스바
		
		case 37:

			side=false;

			tankMove(-2);

			tankFn.img.style.transform="rotateY(180deg)";
			
			break;
		
		case 39:

			side=true;

			tankMove(2);

			tankFn.img.style.transform="rotateY(0deg)";
			
			break;

	}

});


window.addEventListener("keyup", function(){

	key=event.keyCode;

	if(key==37 || key==39){
		
		tankFn.velX=0;
		
		speed=0;
		
	}

});



function gameProcess(){



}

/*


stage.addEventListener("keydown", function(){
	var key=event.keyCode;

	switch(key){
		case 32:fire();break; //space bar
		case 37:go(-2);break;
		case 39:go(2);break;
	}		
});

stage.addEventListener("keyup", function(){
	
	var key=event.keyCode;

	if(key==37 || key==39){
		tankmove.velX=0;
		step=0;
		rockman.running=false;
	}
});

*/


</script>



 </head>
 <body>

<div id="stage">

	<div id="mask">

		<div id="map"></div>
	
	</div>

</div>
  
 </body>
</html>
